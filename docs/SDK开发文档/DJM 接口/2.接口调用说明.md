# 接口调用说明



## 账户登录校验API

```http
POST /user/login HTTP/1.1
Host: http://www.metis.hoyar.com.cn
Content-Type: application/json
Request Body:
{
	"account":"test",
	"pwd":"123456",
	"deviceId":"KKKKKKKK"
}
Response Code:200
Response Body:
{
	"success":true,
	{
		"shopname":"店铺名称",
		"telephone":"联系电话",
		"address":"店铺地址",
	}
}
```

[^Host]: Host为开发于商户开发者平台配置的服务器地址(URL),API由云平台发起调用,第三个服务接收回调数据和响应

### 字段说明

| success   | boolean | true 成功\|false 失败 |
| --------- | ------- | --------------------- |
| shopname  | String  | 店铺名称              |
| telephone | String  | 联系电话              |
| address   | String  | 店铺地址              |



## 用户数据协同API

```http
POST /user/add HTTP/1.1
Host: http://www.metis.hoyar.com.cn
Content-Type: application/json
Request Body:
{
    "shopAccount": "test",
    "customerName": "test metis",
    "customerFlag":"16130",
    "sex": "男",
    "age": "18",
    "birthday": "2018-03-27",
    "telphone": "18888888888"
}

Response Code:200
```

### 字段说明

| shopAccount  | String | 该顾客所属门店的账号   |
| ------------ | ------ | ---------------------- |
| customerName | String | 顾客姓名               |
| customerFlag | String | 顾客编号(在全脸中唯一) |
| sex          | String | 性别                   |
| age          | String | 年龄                   |
| birthday     | String | 生日                   |
| telphone     | String | 电话                   |



## 案例组数据协同API

```http
POST /note/add HTTP/1.1
Host: http://www.metis.hoyar.com.cn
Content-Type: application/json
Request Body:
{
    "imgUrl":"https://djm-skin.oss-cn-shenzhen.aliyuncs.com/Picture/68/293/503/6.jpg",
    "itype":"6",
    "remark":"顾客敏感图",
    "deviceId":"CDEC4B94C1E2",
    "customerFlag":"16130",
    "imgGroupFlag ":"1187"
} 
Response Code:200
```

### 字段说明

| imgUrl                     | String | 诊断图片路径     |
| -------------------------- | ------ | ---------------- |
| itype @itype               | String | 图片的诊断类型   |
| remark                     | String | 图片备注         |
| deviceId                   | String | 拍摄设备的编号(预留字段)   |
| customerFlag               | String | 图片所属顾客编号 |
| imgGroupFlag @imgGroupFlag | String | 图片所属分组编号 |

### 参数备注:

#### @itype :

​	0-日光模式 1-交叉偏正模式 2-平行光模式 3-UV模式 4-Woods模式 5-生理老化 6-敏感图 7-棕色图 8-坐标图 9-斑的趋势图 10-AI诊断图 11-毛孔图 12-斑点图，13-皱纹图 14黑白图

####  @imgGroupFlag:

​	 每张图片都有对应的分组号  多个图片对应一个分组  一般为14张图片为一组



## 案例图数据项协同API

```http
POST /user/add HTTP/1.1
Host: http://www.metis.hoyar.com.cn
Content-Type: application/json
Request Body:
{
    "skinAge": "30",
    "poreNum": "1",
    "stainScore":"8",
    "wrinkleNum": "353",
    "imgGroupFlag": "1187",
    "deviceId": "CDEC4B94C1E2"
}

Response Code:200
```

### 字段说明

| skinAge  | String | 肤龄   |
| ------------ | ------ | ---------------------- |
| poreNum | String | 毛孔数量               |
| stainScore | String | 色斑程度 1-100 |
| wrinkleNum          | String | 皱纹数量                   |
| imgGroupFlag          | String | 数据项所属分组编号                   |
| deviceId     | String | 拍摄设备的编号(预留字段)                   |
